<app-menu></app-menu>
<h2>Liste des formateurs</h2>

<button [routerLink]="['/formateur/form']">AJOUTER FORMATEUR</button>

<table>
  <thead>
  <tr>
    <th>
      NID <br>
      <input type="text" [(ngModel)]="nidFilter" (ngModelChange)="updateDisplayedCount()" placeholder="Rechercher par NID" />
    </th>
    <th>
      Civilite <br>
      <select [(ngModel)]="civiliteFilter" (ngModelChange)="updateDisplayedCount()">
        <option value="">Toutes les civilités</option>
        <option value="MONSIEUR">M</option>
        <option value="MADAME">Mme</option>
        <option value="AUTRE">Autres</option>
      </select>
    </th>
    <th>
      Nom <br>
      <input type="text" [(ngModel)]="nomFilter" (ngModelChange)="updateDisplayedCount()" placeholder="Rechercher par nom" />
    </th>
    <th>
      Prenom <br>
      <input type="text" [(ngModel)]="prenomFilter" (ngModelChange)="updateDisplayedCount()" placeholder="Rechercher par prénom" />
    </th>
    <th>
      Grade
    </th>
    <th>
      ID de l'Unité
    </th>
    <th>
      Date naissance <br>
      <input type="date" [(ngModel)]="dateNaissanceFilter" (ngModelChange)="updateDisplayedCount()" placeholder="Rechercher par date de naissance" />
    </th>
    <th>
      Ville naissance <br>
      <input type="text" [(ngModel)]="villeNaissanceFilter" (ngModelChange)="updateDisplayedCount()" placeholder="Rechercher par ville de naissance" />
    </th>
    <th>Nombre de personnes affichées: {{ displayedCount }}</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let formateur of filteredFormateurs">
    <td>{{ formateur.numeroIdentifiantDefense }}</td>
    <td>{{ formateur.civilite }}</td>
    <td>{{ formateur.nom }}</td>
    <td>{{ formateur.prenom }}</td>
    <td>{{ formateur.grade }}</td>
    <td>{{formateur.uniteId}}</td>
    <td>{{ formateur.dateDeNaissance | date:'dd/MM/yyyy' }}</td>
    <td>{{ formateur.villeDeNaissance }}</td>
    <td>
      <button (click)="showDeleteConfirmation(formateur)">Supprimer</button>
      <button routerLink="/formateur/form/{{formateur.id}}">Modifier</button>
      <button routerLink="/stagiaire/form/{{formateur.id}}">Ajouter un participant</button>
    </td>
  </tr>
  </tbody>
</table>

<app-pop-up
  [isVisible]="isPopUpVisible"
  [title]="popUpTitle"
  [content]="popUpContent"
  [type]="'confirmation'"
  (close)="hidePopUp()"
  (confirm)="confirmDeletion()">
</app-pop-up>



